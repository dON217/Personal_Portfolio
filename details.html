<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>project name - kevin cabranes</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="topdownstyle.css">
</head>

<script>
function getProjectParam() {
    const params = new URLSearchParams(window.location.search);
    return params.get('project') || 'branchingDialogue'; // default project
}

async function loadProjectDetails() {
    const project = getProjectParam();
    const jsonFile = `project-${project}.json`;

    try {
        const response = await fetch(jsonFile);
        const data = await response.json();

        // ...other rendering code...

        // Render the video in the media section
        const video = data.demonstration.video;
        let videoHtml = `
            <div class="video-wrapper">
                <video controls ${video.poster ? `poster="${video.poster}"` : ''} style="max-width:100%;height:auto;">
                    ${video.mp4 ? `<source src="${video.mp4}" type="video/mp4">` : ''}
                    ${video.webm ? `<source src="${video.webm}" type="video/webm">` : ''}
                    Your browser does not support the video tag.
                </video>
                <div class="media-caption">${video.caption || ''}</div>
            </div>
        `;
        document.querySelector('.media-container').innerHTML = videoHtml;

        // ...other rendering code...
    } catch (e) {
        document.querySelector('.project-content').innerHTML = "<p>Project details not found.</p>";
    }
}

document.addEventListener('DOMContentLoaded', loadProjectDetails);
</script>

<body>
    <!-- Corner Text -->
    <div class="corner-text corner-top-right">game designer</div>
    <div class="corner-text corner-bottom-left">florida - havana</div>

    <!-- Back Navigation -->
    <nav class="back-nav">
        <a href="index.html" class="back-link"> < </a>
    </nav>

    <!-- Project Header -->
    <header class="project-hero">
        <div class="project-hero-content">
            <h1 class="project-name"></h1>
            <div class="project-meta">
                <span class="project-role"></span>
                <span class="project-year"></span>
            </div>
            <p class="project-tagline"></p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="project-content">
        
        <!-- Overview Section -->
        <section class="content-section">
            <h2 class="section-title">overview</h2>
            <div class="content-grid"></div>
        </section>

        <!-- Media Section -->
        <section class="content-section">
            <h2 class="section-title">demonstration</h2>
            <div class="media-container"></div>
            <div class="image-gallery"></div>
        </section>

        <!-- Process Section -->
        <section class="content-section">
            <h2 class="section-title">development process</h2>
            <div class="process-content"></div>
        </section>

        <!-- Technical Details -->
        <section class="content-section">
            <h2 class="section-title">technical implementation</h2>
            <div class="technical-content"></div>
        </section>

        <!-- Results Section -->
        <section class="content-section">
            <h2 class="section-title">results & impact</h2>
            <div class="results-content"></div>
        </section>

        <!-- Links Section -->
        <section class="content-section">
            <h2 class="section-title">links & resources</h2>
            <div class="links-container"></div>
        </section>

    </main>
</body>